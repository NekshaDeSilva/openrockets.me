/*! OpenNetwork Collective Banner v1.0.0 | (c) 2025 OpenNetwork Collective */
!function(){"use strict";const t={flagLogoUrl:"https://openrockets.me/assets/press/opennetwork.png",affiliateUrl:"https://opennetworked.org/en/privacy/affiliates",statusApiUrl:"https://status.opennetworked.org/api/status",animationDuration:15e3,checkInterval:3e5,position:"top",insertMode:"static"};let e=null,n=null,o=!1;const a=()=>window.location.hostname.replace("www.",""),r=(e,n="#10B981")=>{const o={operational:`<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="6" r="6" fill="${n}"/><circle cx="6" cy="6" r="3" fill="#ffffff" opacity="0.3"/><circle cx="6" cy="6" r="1.5" fill="#ffffff"/></svg>`,warning:'<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="6" r="6" fill="#F59E0B"/><path d="M6 3v3M6 8h.01" stroke="white" stroke-width="1.5" stroke-linecap="round"/></svg>',error:'<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="6" r="6" fill="#EF4444"/><path d="M8 4L4 8M4 4l4 4" stroke="white" stroke-width="1.5" stroke-linecap="round"/></svg>'};return o[e]||o.operational},i=async()=>{try{const e=await fetch(t.statusApiUrl).catch((()=>({ok:!0,json:()=>Promise.resolve({status:"operational"})})));if(e.ok){const t=await e.json();return{status:t.status||"operational",message:t.message||"All Systems Operational"}}}catch(t){console.warn("OpenNetwork Banner: Status check failed",t)}return{status:"operational",message:"All Systems Operational"}},s=(t,n)=>{const o=e.querySelector(".on-status");if(!o)return;const a=o.querySelector(".on-status-icon"),i=o.querySelector(".on-status-text");if(a&&i){a.innerHTML=r(t),i.textContent=n;const e={operational:"#10B981",warning:"#F59E0B",error:"#EF4444"};i.style.color=e[t]||e.operational}},l=()=>{const n=e.querySelector(".on-text-content"),o=e.querySelector(".on-status");if(!n||!o)return;const a=e.offsetWidth-60,r=n.scrollWidth,i=o.offsetWidth;r+i+20>a?c():d()},c=()=>{if(o)return;const n=e.querySelector(".on-text-content");n&&(o=!0,n.style.animation=`marquee ${t.animationDuration}ms linear infinite`)},d=()=>{if(!o)return;const t=e.querySelector(".on-text-content");t&&(o=!1,t.style.animation="none")},u=(e,n)=>`<div class="on-banner-content"><div class="on-left-section"><img src="${t.flagLogoUrl}" alt="OpenNetwork Flag" class="on-flag-logo" /><div class="on-text-content"><span class="on-domain">${e}</span> is a registered non-profit, currently active in operation under <a href="${t.affiliateUrl}" class="on-link" target="_blank" rel="noopener noreferrer">OpenNetwork Collective</a></div></div><div class="on-status"><div class="on-status-icon">${r(n.status)}</div><span class="on-status-text">${n.message}</span></div></div>`,p=()=>{const e=document.createElement("style"),n="static"===t.insertMode;return e.id="opennetwork-banner-styles",e.textContent=`.opennetwork-banner{${n?"position:relative;width:100%":`position:fixed;${"bottom"===t.position?"bottom":"top"}:0;left:0;right:0`};background:linear-gradient(135deg,#000000ff 0%,#000000ff 100%);color:white;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size:13px;line-height:1.4;${n?"":"z-index:999999"};box-shadow:${n?"0 2px 8px rgba(0,0,0,0.1)":"bottom"===t.position?"0 -2px 12px rgba(0,0,0,0.15)":"0 2px 12px rgba(0,0,0,0.15)"};${n?"":("border-"+("bottom"===t.position?"top":"bottom")+":1px solid rgba(255,255,255,0.1)")};backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);transition:all 0.3s cubic-bezier(0.4,0,0.2,1);padding:10px 16px;min-height:44px;display:flex;align-items:center;${n?"margin:0;border-bottom:1px solid rgba(255,255,255,0.1)":""}}.opennetwork-banner:hover{background:linear-gradient(135deg,#1a1a1aff 0%,#1a1a1aff 100%);${n?"box-shadow:0 4px 12px rgba(0,0,0,0.15)":"transform:translateY("+("bottom"===t.position?"-1px":"1px")+")"}}${n?"body.opennetwork-banner-active{margin-top:0!important;padding-top:0!important}":""}.on-banner-content{display:flex;justify-content:space-between;align-items:center;width:100%;max-width:1200px;margin:0 auto;overflow:hidden}.on-left-section{display:flex;align-items:center;flex:1;overflow:hidden;margin-right:20px}.on-flag-logo{width:22px;height:22px;margin-right:12px;border-radius:3px;box-shadow:0 2px 4px rgba(0,0,0,0.2);transition:transform 0.2s ease;flex-shrink:0}.on-flag-logo:hover{transform:scale(1.1)}.on-text-content{white-space:nowrap;overflow:hidden;color:rgba(255,255,255,0.95);font-weight:400}.on-domain{font-weight:600;color:#fbbf24;text-shadow:0 1px 2px rgba(0,0,0,0.2)}.on-link{color:#60a5fa;text-decoration:none;font-weight:500;transition:all 0.2s ease;position:relative}.on-link:hover{color:#93c5fd;text-decoration:underline;text-underline-offset:2px}.on-status{display:flex;align-items:center;background:rgba(255,255,255,0.1);padding:6px 10px;border-radius:20px;font-size:12px;font-weight:500;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);border:1px solid rgba(255,255,255,0.15);transition:all 0.2s ease;flex-shrink:0}.on-status:hover{background:rgba(255,255,255,0.15);transform:scale(1.02)}.on-status-icon{margin-right:6px;display:flex;align-items:center;animation:pulse 2s infinite}.on-status-text{color:#10B981;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,0.2)}@keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.7}}@keyframes slideInTop{from{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}@keyframes slideInBottom{from{opacity:0;transform:translateY(100%)}to{opacity:1;transform:translateY(0)}}.opennetwork-banner.on-animate-in{animation:${n?"slideInTop":"bottom"===t.position?"slideInBottom":"slideInTop"} 0.5s cubic-bezier(0.4,0,0.2,1) forwards}@media (max-width:768px){.opennetwork-banner{font-size:12px;padding:8px 12px;min-height:40px}.on-flag-logo{width:18px;height:18px;margin-right:8px}.on-status{font-size:11px;padding:4px 8px}.on-left-section{margin-right:12px}}@media (max-width:480px){.opennetwork-banner{font-size:11px;padding:6px 8px;min-height:36px}.on-status-text{display:none}.on-status{width:24px;height:24px;justify-content:center;padding:0;border-radius:50%}.on-status-icon{margin-right:0}}`,e},m=async()=>{if(e)return;const r=await i(),c=a();e=document.createElement("div"),e.className="opennetwork-banner on-animate-in",e.innerHTML=u(c,r);const d=p();document.head.appendChild(d),"static"===t.insertMode?(document.body.firstChild?document.body.insertBefore(e,document.body.firstChild):document.body.appendChild(e),document.body.classList.add("opennetwork-banner-active")):document.body.appendChild(e),window.addEventListener("resize",l),setTimeout((()=>{l(),s(r.status,r.message)}),100),n=setInterval((async()=>{const t=await i();s(t.status,t.message)}),t.checkInterval),console.log("OpenNetwork Banner initialized for:",c,"("+t.insertMode+" mode)")},f=()=>{e&&(e.remove(),e=null),document.body.classList.remove("opennetwork-banner-active"),n&&(clearInterval(n),n=null);const t=document.getElementById("opennetwork-banner-styles");t&&t.remove(),window.removeEventListener("resize",l),o=!1};window.OpenNetworkBanner={init:m,destroy:f,updateStatus:s,config:t},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()}();
